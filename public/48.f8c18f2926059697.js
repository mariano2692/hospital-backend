"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[48],{7048:(w,m,a)=>{a.r(m),a.d(m,{AuthModule:()=>k});var u=a(6895),r=a(433),g=a(9222),p=a(5226),c=a.n(p),e=a(8256),d=a(1209);const f=["googleBtn"];let h=(()=>{class o{constructor(t,n,s,l){this.router=t,this.fb=n,this.usuarioService=s,this._ngZone=l,this.loginForm=this.fb.group({email:[localStorage.getItem("email")||"",[r.kI.required]],password:["123456",[r.kI.required,r.kI.minLength(6)]],remember:[!1]})}ngOnInit(){}ngAfterViewInit(){this.googleInit()}googleInit(){google.accounts.id.initialize({client_id:"926834542305-1004jk03ktqqo2k7d1kf3kt18jksml56.apps.googleusercontent.com",callback:t=>this.handleCredentialResponse(t)}),google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"})}handleCredentialResponse(t){console.log("Encoded JWT ID token: "+t.credential),this.usuarioService.loginGoogle(t.credential).subscribe(n=>{this._ngZone.run(()=>this.router.navigate(["/pages/dashboard"]))})}login(){this.usuarioService.login(this.loginForm.value).subscribe({next:t=>{this.loginForm.get("remember")?.value?localStorage.setItem("email",this.loginForm.get("email")?.value):localStorage.removeItem("email")},error:t=>c().fire("Error!",t.error.msg,"error")}),this.router.navigate(["/pages/dashboard"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.F0),e.Y36(r.qu),e.Y36(d.J),e.Y36(e.R0b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],viewQuery:function(t,n){if(1&t&&e.Gf(f,5),2&t){let s;e.iGM(s=e.CRH())&&(n.googleBtn=s.first)}},decls:51,vars:1,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../assets/images/logo-icon.png","alt","Home"],["src","../assets/images/logo-text.png","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["type","text","placeholder","Username","formControlName","email",1,"form-control"],[1,"form-group"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","pull-left","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","remember",1,"filled-in","chk-col-light-blue"],["for","checkbox-signup"],["href","javascript:void(0)","id","to-recover",1,"text-dark","pull-right"],[1,"fa","fa-lock","m-r-5"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","btn-rounded"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","m-t-10","text-center"],["id","buttonDiv"],["googleBtn",""],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/registro",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(4,"a",4),e._UZ(5,"img",5)(6,"br")(7,"img",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"input",9),e.qZA()(),e.TgZ(11,"div",10)(12,"div",8),e._UZ(13,"input",11),e.qZA()(),e.TgZ(14,"div",12)(15,"div",13)(16,"div",14),e._UZ(17,"input",15),e.TgZ(18,"label",16),e._uU(19," Remember me "),e.qZA()(),e.TgZ(20,"a",17),e._UZ(21,"i",18),e._uU(22," Forgot pwd?"),e.qZA()()(),e.TgZ(23,"div",19)(24,"div",8)(25,"button",20),e._uU(26,"Log In"),e.qZA()()(),e.TgZ(27,"div",21)(28,"div",22),e._UZ(29,"div",23,24),e.qZA()(),e.TgZ(31,"div",25)(32,"div",26),e._uU(33," Don't have an account? "),e.TgZ(34,"a",27)(35,"b"),e._uU(36,"Sign Up"),e.qZA()()()()(),e.TgZ(37,"form",28)(38,"div",10)(39,"div",8)(40,"h3"),e._uU(41,"Recover Password"),e.qZA(),e.TgZ(42,"p",29),e._uU(43,"Enter your Email and instructions will be sent to you! "),e.qZA()()(),e.TgZ(44,"div",10)(45,"div",8),e._UZ(46,"input",30),e.qZA()(),e.TgZ(47,"div",19)(48,"div",8)(49,"button",31),e._uU(50,"Reset"),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.loginForm))},dependencies:[g.yS,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.F,r.sg,r.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0px;right:0px}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0px;position:absolute;height:100%}"]}),o})(),b=(()=>{class o{constructor(){}camposIguales(t,n){return s=>{const l=s.get(t)?.value,y=s.get(n)?.value;return l!==y?(s.get(n)?.setErrors({noIguales:!0}),{noIguales:!0}):(s.get(n)?.setErrors(null),null)}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function v(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"El nombre es obligatorio"),e.qZA())}function Z(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"El email es obligatorio y tiene que ser valido"),e.qZA())}function x(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Las contrase\xf1as deben de ser iguales"),e.qZA())}function _(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Debe de aceptar los terminos"),e.qZA())}const C=[{path:"",children:[{path:"login",component:h},{path:"registro",component:(()=>{class o{constructor(t,n,s,l){this.fb=t,this.vS=n,this.usuarioService=s,this.router=l,this.formSubmitted=!1,this.registerForm=this.fb.group({nombre:["mariano",[r.kI.required]],email:["mariano@test.com",[r.kI.required]],password:["123456",[r.kI.required,r.kI.minLength(6)]],password2:["123456",[r.kI.required,r.kI.minLength(6)]],terminos:[!1,[r.kI.requiredTrue]]},{validators:this.vS.camposIguales("password","password2")})}crearUsuario(){this.formSubmitted=!0,!this.registerForm.invalid&&this.usuarioService.crearUsuario(this.registerForm.value).subscribe({next:t=>this.router.navigate(["/pages/dashboard"]),error:t=>c().fire("Error!",t.error.msg,"error")})}campoNoValido(t){return!(!this.registerForm.get(t)?.invalid||!this.formSubmitted)}aceptaTerminos(){return!this.registerForm.get("terminos")?.value&&this.formSubmitted}passNoValidas(){const t=this.registerForm.get("password")?.value,n=this.registerForm.get("password2")?.value;return!(t===n||!this.formSubmitted)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(b),e.Y36(d.J),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registro"]],decls:49,vars:5,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform","autocomplete","off",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../assets/images/logo-icon.png","alt","Home"],["src","../assets/images/logo-text.png","alt","Home"],[1,"box-title","m-t-40","m-b-0"],[1,"form-group","m-t-20"],[1,"col-xs-12"],["type","text","placeholder","Name","formControlName","nombre",1,"form-control"],[1,"form-group"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","password","placeholder","Confirm Password","formControlName","password2",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","terminos"],["for","checkbox-signup"],["href","#"],[1,"row"],[1,"col","text-danger"],[4,"ngIf"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/login",1,"text-info","m-l-5"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return n.crearUsuario()}),e.TgZ(4,"a",4),e._UZ(5,"img",5)(6,"br")(7,"img",6),e.qZA(),e.TgZ(8,"h3",7),e._uU(9,"Register Now"),e.qZA(),e.TgZ(10,"small"),e._uU(11,"Create your account and enjoy"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9),e._UZ(14,"input",10),e.qZA()(),e.TgZ(15,"div",11)(16,"div",9),e._UZ(17,"input",12),e.qZA()(),e.TgZ(18,"div",11)(19,"div",9),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",11)(22,"div",9),e._UZ(23,"input",14),e.qZA()(),e.TgZ(24,"div",15)(25,"div",16)(26,"div",17),e._UZ(27,"input",18),e.TgZ(28,"label",19),e._uU(29," I agree to all "),e.TgZ(30,"a",20),e._uU(31,"Terms"),e.qZA()()()()(),e.TgZ(32,"div",21)(33,"div",22),e.YNc(34,v,2,0,"p",23),e.YNc(35,Z,2,0,"p",23),e.YNc(36,x,2,0,"p",23),e.YNc(37,_,2,0,"p",23),e.qZA()(),e.TgZ(38,"div",24)(39,"div",9)(40,"button",25),e._uU(41,"Sign Up"),e.qZA()()(),e.TgZ(42,"div",26)(43,"div",27)(44,"p"),e._uU(45,"Already have an account? "),e.TgZ(46,"a",28)(47,"b"),e._uU(48,"Sign In"),e.qZA()()()()()()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.registerForm),e.xp6(31),e.Q6J("ngIf",n.campoNoValido("nombre")),e.xp6(1),e.Q6J("ngIf",n.campoNoValido("email")),e.xp6(1),e.Q6J("ngIf",n.passNoValidas()),e.xp6(1),e.Q6J("ngIf",n.aceptaTerminos()))},dependencies:[u.O5,g.yS,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0px;right:0px}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0px;position:absolute;height:100%}"]}),o})()},{path:"**",redirectTo:"login"}]}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(C),g.Bz]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,T,r.u5,g.Bz,r.UX]}),o})()}}]);